__Preparing for Pratice__
- There are two dataset used - legislators and legislator_term
- The solutions, questions and content in this file are mainly referenced from the book "SQL for Data Analysis Advanced Techniques for Transforming Data into Insight"
- The syntax in this file is mainly written in SQL Server format.

------------------------------------------------------------------------------------------------------------
## 1. COHORTS - A USEFUL ANALYSIS FRAMEWORK
* __Cohort__
  * A group of individuals who share some characteristic of interest
  * Important to consider the ethical implications of cohorting entities without their awareness

* __Cohort Analysis__
  * Framework for detecting correlations between cohort characteristics and these long-term trends => lead to hypotheses about the causal driver.
  * Monitor new cohorts of users or customers and assess how they compare to previous cohorts
  * Three components - Corhort grouping, Time series, and Aggregate metric
  * Four types - Retention, Survivorship, Returnship (repeating purchase behavior), and Cumulative behavior

### 1.1. Components of Cohort Analysis
* __Cohort Grouping__ // Cohort Definition
  - based on a starting date.
  - formed around characteristics that are innate or changing over time.
  - 
* __Time Series__
 
* __Aggregate Metric__

### 1.2. Types of Cohort Analysis


------------------------------------------------------------------------------------------------------------
## 2. RETENTION

### Basic Retention Curve
The first step is to find the first date each legislator took office (term_start).
```
SELECT	DATEDIFF(YEAR, a.term_start, b.first_term) AS period,
		COUNT(DISTINCT b.id_bioguide) AS cohort_retained
FROM	legislator_terms a
		INNER JOIN	(
			SELECT	id_bioguide, MIN(term_start) AS first_term
			FROM	legislator_terms
			GROUP BY	id_bioguide
		) b ON a.id_bioguide = b.id_bioguide
GROUP BY	DATEDIFF(YEAR, a.term_start, b.first_term)
ORDER BY	1 DESC;
```



